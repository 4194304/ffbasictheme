root {
  --toolbar-bgcolor-inactive: color-mix(in oklab, var(--toolbar-bgcolor), white 20%);
}
#tabbrowser-arrowscrollbox, .titlebar-buttonbox, .titlebar-spacer {
  position:relative;
  background-image: linear-gradient(to bottom, #98B4D0, #B9D1EA);
}
#tabbrowser-arrowscrollbox::before, .titlebar-buttonbox::before, .titlebar-spacer::before, #tabbrowser-arrowscrollbox::after, .titlebar-buttonbox::after, .titlebar-spacer::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 0.0625rem;
}
#tabbrowser-arrowscrollbox::before, .titlebar-buttonbox::before, .titlebar-spacer::before {
  top:0px;
  background-color: #343434;
  transform: scale(1);
}
#tabbrowser-arrowscrollbox::after, .titlebar-buttonbox::after, .titlebar-spacer::after {
  top:0.0625rem;
  background-color: #ffffff;
  transform: scale(1);
}
#tabbrowser-arrowscrollbox:-moz-window-inactive, .titlebar-buttonbox:-moz-window-inactive, .titlebar-spacer:-moz-window-inactive {
   background-image: linear-gradient(to bottom, #BFCDDB, #D7E4F2);
}
.tab-background {
  background-color:var(--toolbar-bgcolor) !important;
  filter: saturate(25%);
  filter: brightness(150%);
  border-radius:5px !important;
  margin:5px 0px 3px 0px !important;
}

@media (prefers-color-scheme: light) {
  .tab-background {
    background-color:var(--toolbar-bgcolor) !important;
    filter: saturate(25%);
    filter: brightness(90%);
    border-radius:5px !important;
    margin:4px 0px 3px 0px !important;
  }
}

.tabbrowser-tab[selected="true"] .tab-background {
  background-color:var(--toolbar-bgcolor) !important;
  filter: brightness(100%);
  filter: saturate(100%);
}
#tabs-newtab-button {
   background-color:var(--toolbar-bgcolor) !important;
   margin-top:8px !important;
   margin-bottom:3px !important;
   max-width:30px;
   max-height:30px;
   border-radius:5px !important;
}
.titlebar-spacer {
  display:none !important;
}

/* Style and position buttons */
.titlebar-button {
   font: 0px Arial, sans-serif !important;
   margin-bottom:10px !important;
   background-color:transparent !important;
}
.titlebar-button.titlebar-close {
  background-image:url("close.png");
  background-repeat:no-repeat;
  background-position:center;
  padding-right:17px !important;
  padding-left:16px !important;
}
.titlebar-button.titlebar-max {
  background-image:url("maximize.png");
  background-repeat:no-repeat;
  background-position:center;
  padding-right:14px !important;
  padding-left:16px !important;
}
.titlebar-button.titlebar-min {
  background-image:url("minimize.png");
  background-repeat:no-repeat;
  background-position:center;
  padding-right:15px !important;
  padding-left:16px !important;
}

/* Maximized buttons, change min-width to your screen width, for conversion 16px = 1rem */
@media (min-width: 120rem) {
   .titlebar-button {
     font: 0px Arial, sans-serif !important;
     background-color:transparent !important;
     background-position: top 0.125rem center !important;
  }
  .titlebar-button.titlebar-close {
    background-image:url("close.png");
    background-repeat:no-repeat;
    background-position: top 0.125rem center !important;
    padding-right:17px !important;
    padding-left:16px !important;
  }
  .titlebar-button.titlebar-restore {
    background-image:url("restore.png");
    background-repeat:no-repeat;
    background-position: top 0.125rem center !important;
    padding-right:14px !important;
    padding-left:16px !important;
  }
  .titlebar-button.titlebar-min {
    background-image:url("minimize.png");
    background-repeat:no-repeat;
    background-position: top 0.125rem center !important;
    padding-right:15px !important;
    padding-left:16px !important;
  }
}

/* Inactive buttons */
.titlebar-button.titlebar-close:-moz-window-inactive {
  background-image:url("close-inactive.png");
}
.titlebar-button.titlebar-max:-moz-window-inactive {
  background-image:url("maximize-inactive.png");
}
.titlebar-button.titlebar-min:-moz-window-inactive {
  background-image:url("minimize-inactive.png");
}

/* Also change this if your screen size isn't 1080p */
@media (min-width: 120rem) {
   .titlebar-button.titlebar-close:-moz-window-inactive {
    background-image:url("close-inactive.png");
  }
  .titlebar-button.titlebar-restore:-moz-window-inactive {
    background-image:url("restore-inactive.png");
    background-repeat:no-repeat;
  }
  .titlebar-button.titlebar-min:-moz-window-inactive {
    background-image:url("minimize-inactive.png");
  }
}

/* Inactive window dimming fix */

#TabsToolbar:-moz-window-inactive { 
   opacity: 1 !important; 
}

/* Hovered window buttons as a fallback */
.titlebar-button.titlebar-close:hover {
  background-image:url("close-hover.png");
}
.titlebar-button.titlebar-max:hover {
  background-image:url("maximize-hover.png");
}
.titlebar-button.titlebar-min:hover {
  background-image:url("minimize-hover.png");
}
.titlebar-button.titlebar-restore:hover {
  background-image:url("restore-hover.png");
  background-repeat:no-repeat;
}